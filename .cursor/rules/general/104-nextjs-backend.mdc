---
description: Use Next.js 15 backend methods for server-side operations like headers and cookies.
globs: *.ts,*.tsx
alwaysApply: false
---
## Context

* Next.js 15 provides backend methods for server-side operations.

## Headers

Use to access request headers in server components and API routes.

```tsx
import { headers } from 'next/headers'
 
export default async function Page() {
  const headersList = await headers()
  const userAgent = headersList.get('user-agent')
}
```


## Cookies

Use to read and set cookies in server components and API routes.

```tsx
import { cookies } from 'next/headers'
 
export default async function Page() {
  const cookieStore = await cookies()
  const theme = cookieStore.get('theme')
  return '...'
}
```

To set a cookie, you must be in an [201-api-route.mdc](mdc:.cursor/rules/project/201-api-route.mdc) or [208-server-actions.mdc](mdc:.cursor/rules/project/208-server-actions.mdc) :

```tsx
'use server'
 
import { cookies } from 'next/headers'
 
export async function create(data) {
  const cookieStore = await cookies()
 
  cookieStore.set('name', 'lee')
  // or
  cookieStore.set('name', 'lee', { secure: true })
  // or
  cookieStore.set({
    name: 'name',
    value: 'lee',
    httpOnly: true,
    path: '/',
  })
}
```

